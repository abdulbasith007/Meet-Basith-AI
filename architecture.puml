@startuml
title Meet-Basith-AI: Generatorâ€“Evaluator Pattern

skinparam backgroundColor #f8fafc
skinparam defaultFontName Inter
skinparam defaultFontColor #1e293b
skinparam shadowing false
skinparam ArrowColor #64748b
skinparam ArrowThickness 2

skinparam rectangle {
  FontSize 14
  RoundCorner 20
  BorderColor #94a3b8
  Padding 15
  BackgroundColor white
}

rectangle "ðŸ‘¤ **User**" as User #e0f2fe

rectangle "ðŸ’¬ **Generator (GPT-4o-mini)**\nCreates draft response using context + tools" as Generator #dbeafe

rectangle "ðŸ§  **Evaluator Loop**\nChecks tone, factuality, and professionalism\nIf not acceptable â†’ sends feedback to Generator" as Evaluator #e2e8f0

rectangle "âœ… **Verified Response**\nEvaluator-approved message returned to user" as Verified #dcfce7

rectangle "ðŸ§© **Tools Layer**\nâ€¢ send_contact_email()\nâ€¢ record_unknown_question()" as Tools #fef3c7

rectangle "ðŸ“ **Context Files**\nsummary.txt | linkedin.pdf" as Context #ede9fe

rectangle "ðŸ“§ **SMTP Email Sender**\nSends captured contact info" as Email #fef9c3

User -down-> Generator : Message
Generator -down-> Evaluator : Draft Response
Evaluator -left-> Generator : Feedback (if rejected)
Evaluator -down-> Verified : Approved Reply
Verified -up-> User : Final Response
Generator -left-> Context : Reads context
Evaluator -right-> Tools : Trigger tool calls
Tools -down-> Email : Send contact email

note right of Evaluator
Evaluator ensures response quality:
â€¢ Polite & clear tone  
â€¢ Factual accuracy  
â€¢ Natural encouragement to share contact
end note
@enduml